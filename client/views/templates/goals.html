

<div class="container "ng-controller="GoalsController">
  <form ng-submit=saveGoals(goals) name="outerForm" class="tab-goals">
    <!-- <label>Fiscal Year</label>
    <input type="number" class="container form-control year col-xs-4" ng-model="goals.fiscalyear"
    ng-model-options="{ updateOn: 'blur' }" ng-change="addFyKey(fiscalyear)" placeholder="Fiscal Year" autofocus required/> -->

    <!-- <div class="container" >
      <h3>Fiscal Year</h3>
      <select id="fiscal-year" class="select" ng-model="yearSelected" ng-change="fiscalYear(yearSelected)" ng-required="number" >
          <option class="fiscal-year" ng-repeat="year in yearArray" role="year" > {{ year }} </option>
      </select>
    </div> -->

    <div class="btn-group" uib-dropdown>
      <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle>
        <span>{{ goals.fiscalyear || "Select Year" }}</span><span class="caret"></span>
      </button>
      <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
        <li ng-repeat="year in goalsArray | orderBy: '-fiscal_year'" role="menuitem"><a ng-click="fiscalYear(year.fiscal_year)">{{ year.fiscal_year }}</a></li>
        <li class="divider"></li>
        <li role="menuitem"><a ng-click="addYear()" >Add Year</a></li>
      </ul>
      <span ng-show="showYear" ><label>Enter Year</label>
      <input type="number" class="add-year" ng-model="fiscalyear" ng-model-options="{ updateOn: 'blur' }" ng-change="addFyKey(fiscalyear)" autofocus/></span>
    </div>

    <br /> <br />

    <uib-tabset class="container col-md-12" active="active">
      <uib-tab ng-repeat="month in monthsObj.months track by month.key" heading="{{month.name}}">
        <!-- {{ $index }} {{ month.name }} {{ month.key }} -->
        <!-- <ng-form name="input-goals"> -->
        <div class="row goal-form">

          <div class="form-group col-md-3">
            <label>Individual Total</label>
            <input type="number" class="form-control individual-total" ng-model="goals.months[month.key].individual_total" ng-disabled="true" placeholder="{{ goals.months[month.key].individual_total || 0 }}" />
            <label>Staff Members Goal</label>
            <input type="number" class="form-control staff" ng-model="goals.months[month.key].staff" ng-change="calcTotals()" />
            <label>Board Members Goal</label>
            <input type="number" class="form-control board" ng-model="goals.months[month.key].board" ng-change="calcTotals()" />
            <label>Committee Members</label>
            <input type="number" class="form-control committee" ng-model="goals.months[month.key].committee" ng-change="calcTotals()" />
            <label>Parent</label>
            <input type="number" class="form-control parent" ng-model="goals.months[month.key].parent" ng-change="calcTotals()" />
            <label>Alum</label>
            <input type="number" class="form-control alum" ng-model="goals.months[month.key].alum" ng-change="calcTotals()" />
            <label>Participant</label>
            <input type="number" class="form-control participant" ng-model="goals.months[month.key].participant" ng-change="calcTotals()" />
            <label>Community Support</label>
            <input type="number" class="form-control community" ng-model="goals.months[month.key].community" ng-change="calcTotals()" />
          </div>

          <div class="form-group col-md-3">
            <label>Foundation Totals</label>
            <input type="number" class="form-control foundation-total" ng-model="goals.months[month.key].foundation_total" ng-disabled="true" placeholder="{{ goals.months[month.key].foundation_total || 0 }}" />
            <label>Corporate Foundation</label>
            <input type="number" class="form-control corporate-foundation" ng-model="goals.months[month.key].corporate_foundation" ng-change="calcTotals()" />
            <label>Family Foundation/Fund</label>
            <input type="number" class="form-control family-foundation" ng-model="goals.months[month.key].family_foundation" ng-change="calcTotals()" />
            <label>General Foundation</label>
            <input type="number" class="form-control general-foundation" ng-model="goals.months[month.key].general_foundation" ng-change="calcTotals()" />
          </div>

          <div class="form-group col-md-3">
            <label>Corporation Totals</label>
            <input type="number" class="form-control corporate-total" ng-model="goals.months[month.key].corporate_total" ng-disabled="true" placeholder="{{ goals.months[month.key].corporate_total || 0 }}" />
            <label>Corporate/Organization Money</label>
            <input type="number" class="form-control corporate-organization" ng-model="goals.months[month.key].corporate_organization" ng-change="calcTotals()" />
            <label>Corporate Match</label>
            <input type="number" class="form-control corporate-match" ng-model="goals.months[month.key].corporate_match" ng-change="calcTotals()"/>

            <span></span>

            <span></span>
            <h3>Yearly Totals</h3>
            <h5>{{ goals.fiscalyear }} Year Total</h5>
            <p> $ {{ goals.yearly_totals.year_total }}.00 </p>
            <h5>Individual Total</h5>
            <p> $ {{ goals.yearly_totals.individual_year }}.00 </p>
            <h5>Corporate Total</h5>
            <p> $ {{ goals.yearly_totals.corporate_year }}.00 </p>
            <h5>Foundations Total</h5>
            <p> $ {{ goals.yearly_totals.foundation_year }}.00 </p>

          </div>

        </div>

        <!-- </ng-form> -->
      </uib-tab>

    </uib-tabset>

    <button class="btn btn-primary pull-right" type="submit" >Save Goals</button>
  </form>

  <div>
    goals:
    <pre>{{ goals | json }}</pre>
  </div>


</div>



</div>
