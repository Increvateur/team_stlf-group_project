<div class="home-view container">
    <div>
    <h4 class="text-center table-header">Donor Acquistion and Retention for period ending : {{endDate.date | date : shortDate}} </h4>
        <div class="row">
            <div class="datepicker">
                <label>Select End Date</label>
                <p class="input-group">
                    <input type="text" class="form-control" ng-click uib-datepicker-popup="MM-dd-yyyy" ng-model="dt" ng-change="setEndDate(dt)" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" />
                    <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                </p>
            </div>
        </div>
    </div>

    <table st-table="retainedResults" st-safe-src="retained" class="table table-striped">
        <thead>
        <tr>
            <th st-sort="">Current Retained Donors</th>
            <th st-sort="">{{date}} YTD</th>
            <th st-sort="">{{date -1}} YTD</th>
            <th st-sort="">{{date -2}} YTD</th>
            <th st-sort="">{{date}} Goal</th>
            <th st-sort="">% to Goal</th>
            <th st-sort="">{{date -1}}Fiscal Year</th>
            <th st-sort="">{{date -2}}Fiscal Year</th>
        </tr>
        </thead>
        <tbody>
        <!--currently inop, need to inject the data into this controller.-->
        <tr st-select-row="result" st-select-mode="single" ng-click="open('lg', result)"  ng-repeat="result in retainedResults">
            <td>{{result.type}}</td>
            <td>{{result.ytd | number : 0 }}</td>
            <td>{{result.ytdM1 | number : 0  }}</td>
            <td>{{result.ytdM2 | number : 0  }}</td>
            <td>{{result.goal | number : 0  }}0</td>
            <td>{{result.percentToGoal | number : 0}}0</td>
            <td>{{result.tfyM1 | number : 0  }}</td>
            <td>{{result.tfyM2 | number : 0  }}</td>

        </tr>
        </tbody>

    </table>
    <table st-table="recoveredResults" st-safe-src="recovered" class="table table-striped">
        <thead>
        <tr>
            <th st-sort="">Current Recovered Donors</th>
            <th st-sort="">{{date}} YTD</th>
            <th st-sort="">{{date -1}} YTD</th>
            <th st-sort="">{{date -2}} YTD</th>
            <th st-sort="">{{date}} Goal</th>
            <th st-sort="">% to Goal</th>
            <th st-sort="">{{date -1}} Fiscal Year</th>
            <th st-sort="">{{date -2}} Fiscal Year</th>
        </tr>

        </thead>
        <tbody>
        <tr st-select-row="result" st-select-mode="single" ng-click="open('lg', result)"  ng-repeat="result in recoveredResults">
            <td>{{result.type}}</td>
            <td>{{result.ytd  | number : 0}}</td>
            <td>{{result.ytdM1 | number : 0}}</td>
            <td>{{result.ytdM2 | number : 0}}</td>
            <td>{{result.goal | number : 0}}0</td>
            <td>{{result.percentToGoal  | number : 0}}0</td>
            <td>{{result.tfyM1 | number : 0}}</td>
            <td>{{result.tfyM2 | number : 0}}</td>

        </tr>
        </tbody>
    </table>

    <table st-table="universeResults" st-safe-src="universe" class="table table-striped">
        <thead>
        <tr>
            <th st-sort="">Donor Universe</th>
            <th st-sort="">{{date}} YTD</th>
            <th st-sort="">{{date -1}} YTD</th>
            <th st-sort="">{{date -2}} YTD</th>
            <th st-sort="">{{date}} Goal</th>
            <th st-sort="">% to Goal</th>
            <th st-sort="">{{date -1}} Fiscal Year</th>
            <th st-sort="">{{date -2}} Fiscal Year</th>
        </tr>

        </thead>
        <tbody>
        <tr st-select-row="result" st-select-mode="single" ng-click="open('lg', result)"  ng-repeat="result in universeResults">
            <td>{{result.type}}</td>
            <td>{{result.ytd  | number : 0 }}</td>
            <td>{{result.ytdM1  | number : 0 }}</td>
            <td>{{result.ytdM2  | number : 0 }}</td>
            <td>{{result.goal  | number : 0 }}0</td>
            <td>{{result.percentToGoal  | number : 0}}0</td>
            <td>{{result.tfyM1  | number : 0 }}</td>
            <td>{{result.tfyM2  | number : 0 }}</td>
        </tr>
        </tbody>
    </table>




</div>
